<!DOCTYPE html>
<html>
	<head>
		<script type="text/x-rhu-config">
		RHU.config = {
			modules: ["macro", "event", "websockets", "rest", "weak"],
			extensions: ["rhu/blankImg", "rhu/localisation"],
			/*includes: {
				"file:///D:/bruh": ["epic"],
				"": ["woah"]
			}*/
		};
		</script>
		<script src="RHU/RHU.js"></script>
		<!--<script src="tests/RHU.js"></script>-->
	</head>
	<body>
		<div id="target" rhu-macro="woah">
		</div>
		<rhu-macro rhu-type="woah"></rhu-macro>

		<script type="text/javascript">
			RHU.module({ hard: ["RHU.Localisation"], trace: new Error() }, function(e) {
				RHU.Localisation.setSchema({"woah": {"innerHTML":"craze"}});
			});

			RHU.module({ module: "internal", trace: new Error(), hard: ["RHU.Macro", "RHU.Localisation"] }, function(e) {
				let willGetUpdated = document.createElement("div");
				willGetUpdated.setAttribute("rhu-macro", "woah");

				new RHU.Macro(function() {
					RHU.Localisation.addEventListener("change", (e) => {
						this.nice.innerHTML = e["woah"].innerHTML;
					});
					if (RHU.exists(RHU.Localisation.schema))
						this.nice.innerHTML = RHU.Localisation.schema["woah"].innerHTML;
				}, "asd",
					/*HTML*/`<div rhu-id="nice"></div><div rhu-loc="woah">boomer</div><!--woah-->crazy`,
					{ element: /*HTML*/`<div></div>`, floating: true });

				new RHU.Macro(function() {}, "woah",
					/*HTML*/`<td>boomer</td><!--woah-->crazy<rhu-macro rhu-type="asd"></rhu-macro>`,
					{ element: /*HTML*/`<div></div>` });
			}, new Error());
		</script>
	</body>
</html>