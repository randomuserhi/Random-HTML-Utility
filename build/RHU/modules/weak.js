!function(){"use strict";let e=window.RHU;if(null==e)throw new Error("");e.module({module:"weak",trace:new Error,hard:["WeakRef","WeakSet","FinalizationRegistry"]},(function(){e.WeakCollection=function(){this._weakSet=new WeakSet,this._collection=[],this._registry=new FinalizationRegistry((()=>{this._collection=this._collection.filter((t=>e.exists(t.deref())))})),this.has=this._weakSet.has},e.WeakCollection.prototype.add=function(...e){for(let t of e)this._weakSet.has(t)||(this._collection.push(new WeakRef(t)),this._weakSet.add(t),this._registry.register(t))},e.WeakCollection.prototype.delete=function(...t){for(let e of t)this._weakSet.delete(e);this._collection=this._collection.filter((i=>(i=i.deref(),e.exists(i)&&!t.includes(i))))},e.WeakCollection.prototype[Symbol.iterator]=function*(){let t=this._collection;this._collection=[];for(let i of t)i=i.deref(),e.exists(i)&&(this._collection.push(new WeakRef(i)),yield i)}}))}();
